/*! For license information please see index.es5.js.LICENSE.txt */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof exports?exports.ReactZiggeo=r(require("react")):e.ReactZiggeo=r(e.React)}(this,e=>(()=>{var r={12:r=>{"use strict";r.exports=e},556:(e,r,t)=>{e.exports=t(694)()},694:(e,r,t)=>{"use strict";var n=t(925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,r,t,o,i,a){if(a!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function r(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:o};return t.PropTypes=t,t}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={exports:{}};return r[e](i,i.exports,n),i.exports}n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{ZiggeoAudioPlayer:()=>V,ZiggeoAudioRecorder:()=>ie,ZiggeoPlayer:()=>x,ZiggeoRecorder:()=>G,default:()=>ae});var e=n(12),r=n.n(e),t=n(556),i={width:(0,t.oneOfType)([t.number,t.string]),height:(0,t.oneOfType)([t.number,t.string]),responsive:t.bool,faceoutline:t.bool,skipinitial:t.bool,skipinitialonrerecord:t.bool,picksnapshots:t.bool,countdown:t.number,"stream-width":t.number,"stream-height":t.number,nofullscreen:t.bool,snapshotmax:t.number,gallerysnapshots:t.number,localplayback:t.bool,stretch:t.bool,stretchwidth:t.bool,stretchheight:t.bool,theme:t.string,themecolor:t.string,autorecord:t.bool,primaryrecord:t.bool,"flip-camera":t.bool,flipscreen:t.bool,"early-rerecord":t.bool,sharevideo:(0,t.arrayOf)(t.string),"transcript-language":t.string,allowtexttrackupload:t.bool,uploadlocales:t.array,"audio-test-mandatory":t.bool,playermodeifexists:t.bool,rerecordableifexists:t.bool,"preview-effect-profile":t.string,"popup-width":(0,t.oneOfType)([t.number,t.string]),"popup-height":(0,t.oneOfType)([t.number,t.string]),snapshotfrommobilecapture:t.bool,"server-auth":t.string,"client-auth":t.string,"expiration-days":t.number,recordingwidth:t.number,recordingheight:t.number,minuploadingwidth:t.number,maxuploadingwidth:t.number,minuploadingheight:t.number,maxuploadingheight:t.number,video:t.string,"auto-crop":t.bool,"auto-pad":t.bool,_key:t.string,rtmpstreamtype:t.string,rtmpmicrophonecodec:t.string,timelimit:t.number,timeminlimit:t.number,"video-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),"effect-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),"meta-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),"cpu-friendly":t.bool,"enforce-duration":t.bool,noaudio:t.bool,source:t.string,framerate:t.number,"framerate-warning":t.string,snapshottype:t.string,videobitrate:(0,t.oneOfType)([t.number,t.string]),audiobitrate:(0,t.oneOfType)([t.number,t.string]),"microphone-volume":t.number,"custom-covershots":t.bool,selectfirstcovershotonskip:t.bool,picksnapshotmandatory:t.bool,pausable:t.bool,snapshotfromuploader:t.bool,allowmultistreams:t.bool,multistreamreversable:t.bool,multistreamdraggable:t.bool,multistreamresizeable:t.bool,addstreamproportional:t.bool,addstreampositionx:t.number,addstreampositiony:t.number,addstreampositionwidth:t.number,addstreampositionheight:t.number,addstreamminwidth:t.number,addstreamminheight:t.number,fullscreenmandatory:t.bool,fittodimensions:t.bool,"outsource-selectors":t.string,screenrecordmandatory:t.bool,"media-orientation":t.string,pickcovershotframe:t.bool,allowtrim:t.bool,trimoverlay:t.bool,aspectratio:t.number,pauseonclick:t.bool,tags:(0,t.arrayOf)(t.string),"custom-data":t.object,title:t.string,description:t.string,manual_upload:t.bool,rerecordable:t.bool,allowupload:t.bool,allowscreen:t.bool,allowrecord:t.bool,"display-timer":t.bool,"force-overwrite":t.bool,autoplay:t.bool,recordings:t.number,allowedextensions:(0,t.arrayOf)(t.string),application:t.string,filesizelimit:t.number,flashincognitosupport:t.bool,simulate:t.bool,allowcustomupload:t.bool,"manual-upload":t.bool,camerafacefront:t.bool,createthumbnails:t.bool,skipseconds:t.number,showsettingsmenu:t.bool,hidevolumebar:t.bool,recordermode:t.bool,forceflash:t.bool,noflash:t.bool,manualsubmit:t.bool,initialseek:t.number,playfullscreenonmobile:t.bool,playwhenvisible:t.bool,playonclick:t.bool,disableseeking:t.bool,disablepause:t.bool,pauseonplay:t.bool,onlyaudio:t.bool,airplay:t.bool,chromecast:t.bool,preload:t.bool,"delete-old-streams":t.bool,"lazy-application":t.bool,allowcancel:t.bool,orientation:t.string,popup:t.bool,"popup-stretch":t.bool,"input-bind":t.string,"form-accept":t.string},a={width:(0,t.oneOfType)([t.number,t.string]),height:(0,t.oneOfType)([t.number,t.string]),responsive:t.bool,skipinitial:t.bool,picksnapshots:t.bool,countdown:t.number,"stream-width":t.number,"stream-height":t.number,nofullscreen:t.bool,localplayback:t.bool,theme:t.string,themecolor:t.string,sharevideo:(0,t.arrayOf)(t.string),loop:t.bool,loopall:t.bool,volume:t.number,showduration:t.bool,uploadlocales:t.array,allowtexttrackupload:t.bool,"audio-transcription-as-subtitles":t.bool,playlist:(0,t.oneOfType)([t.array,t.string]),popup:t.bool,"popup-stretch":t.bool,"popup-width":(0,t.oneOfType)([t.number,t.string]),"popup-height":(0,t.oneOfType)([t.number,t.string]),videofitstrategy:t.string,posterfitstrategy:t.string,"server-auth":t.string,"client-auth":t.string,stretch:t.bool,hideoninactivity:t.bool,hidebarafter:t.number,preventinteraction:t.bool,stretchwidth:t.bool,stretchheight:t.bool,video:t.string.isRequired,stream:t.string,_key:t.string,"effect-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),"video-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),noaudio:t.bool,poster:t.string,source:t.string,framerate:t.number,videobitrate:(0,t.oneOfType)([t.number,t.string]),audiobitrate:(0,t.oneOfType)([t.number,t.string]),tags:(0,t.arrayOf)(t.string),"custom-data":t.object,title:t.string,description:t.string,allowpip:(0,t.oneOfType)([t.bool,t.func]),autoplay:t.bool,application:t.string,flashincognitosupport:t.bool,forceflash:t.bool,noflash:t.bool,initialseek:t.number,playfullscreenonmobile:t.bool,playwhenvisible:t.bool,playonclick:t.bool,disableseeking:t.bool,disablepause:t.bool,pauseonplay:t.bool,onlyaudio:t.bool,airplay:t.bool,chromecast:t.bool,preload:t.bool,"lazy-application":t.bool,preroll:t.bool,vast:(0,t.arrayOf)(t.object),"input-bind":t.string,"form-accept":t.string},l={width:(0,t.oneOfType)([t.number,t.string]),height:(0,t.oneOfType)([t.number,t.string]),responsive:t.bool,skipinitial:t.bool,skipinitialonrerecord:t.bool,countdown:t.number,nofullscreen:t.bool,localplayback:t.bool,theme:t.string,themecolor:t.string,autorecord:t.bool,primaryrecord:t.bool,"early-rerecord":t.bool,"transcript-language":t.string,allowtexttrackupload:t.bool,uploadlocales:t.array,"audio-test-mandatory":t.bool,playermodeifexists:t.bool,rerecordableifexists:t.bool,"popup-width":(0,t.oneOfType)([t.number,t.string]),"popup-height":(0,t.oneOfType)([t.number,t.string]),"server-auth":t.string,"client-auth":t.string,"expiration-days":t.number,audio:t.string,_key:t.string,rtmpstreamtype:t.string,rtmpmicrophonecodec:t.string,timelimit:t.number,timeminlimit:t.number,"audio-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),"effect-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),"meta-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),"enforce-duration":t.bool,source:t.string,audiobitrate:(0,t.oneOfType)([t.number,t.string]),"microphone-volume":t.number,pausable:t.bool,tags:(0,t.arrayOf)(t.string),"custom-data":t.object,title:t.string,description:t.string,manual_upload:t.bool,rerecordable:t.bool,allowupload:t.bool,allowrecord:t.bool,"display-timer":t.bool,"force-overwrite":t.bool,autoplay:t.bool,recordings:t.number,allowedextensions:(0,t.arrayOf)(t.string),application:t.string,filesizelimit:t.number,simulate:t.bool,allowcustomupload:t.bool,"manual-upload":t.bool,skipseconds:t.number,showsettingsmenu:t.bool,hidevolumebar:t.bool,recordermode:t.bool,manualsubmit:t.bool,initialseek:t.number,playwhenvisible:t.bool,playonclick:t.bool,disableseeking:t.bool,disablepause:t.bool,pauseonplay:t.bool,airplay:t.bool,chromecast:t.bool,preload:t.bool,"delete-old-streams":t.bool,"lazy-application":t.bool,allowcancel:t.bool,popup:t.bool,"input-bind":t.string,"form-accept":t.string},u={width:(0,t.oneOfType)([t.number,t.string]),height:(0,t.oneOfType)([t.number,t.string]),skipinitial:t.bool,countdown:t.number,localplayback:t.bool,theme:t.string,themecolor:t.string,loop:t.bool,loopall:t.bool,volume:t.number,showduration:t.bool,uploadlocales:t.array,allowtexttrackupload:t.bool,"audio-transcription-as-subtitles":t.bool,playlist:(0,t.oneOfType)([t.array,t.string]),popup:t.bool,"popup-width":(0,t.oneOfType)([t.number,t.string]),"popup-height":(0,t.oneOfType)([t.number,t.string]),"server-auth":t.string,"client-auth":t.string,hideoninactivity:t.bool,hidebarafter:t.number,preventinteraction:t.bool,audio:t.string.isRequired,_key:t.string,"effect-profile":(0,t.oneOfType)([t.string,(0,t.arrayOf)(t.string)]),source:t.string,audiobitrate:(0,t.oneOfType)([t.number,t.string]),tags:(0,t.arrayOf)(t.string),"custom-data":t.object,title:t.string,description:t.string,autoplay:t.bool,application:t.string,flashincognitosupport:t.bool,forceflash:t.bool,noflash:t.bool,initialseek:t.number,playwhenvisible:t.bool,playonclick:t.bool,disableseeking:t.bool,disablepause:t.bool,pauseonplay:t.bool,airplay:t.bool,chromecast:t.bool,preload:t.bool,"lazy-application":t.bool,preroll:t.bool,vast:(0,t.arrayOf)(t.object),"input-bind":t.string,"form-accept":t.string},c={onPlaying:t.func,onPaused:t.func,onEnded:t.func,onSeek:t.func,onManuallySubmitted:t.func,onRecordingProgress:t.func,onUploaded:t.func,onUploadSelected:t.func,onUploading:t.func,onRerecord:t.func,onCountdown:t.func,onProgress:t.func,onUploadProgress:t.func,onProcessing:t.func,onProcessed:t.func,onAccessForbidden:t.func,onAccessGranted:t.func,onCameraUnresponsive:t.func,onVerified:t.func,onNoCamera:t.func,onNoMicrophone:t.func,onMicrophonehealth:t.func,onCamerahealth:t.func,onCameraSignal:t.func,onBound:t.func,onHasCamera:t.func,onHasMicrophone:t.func,onRecordingStopped:t.func,onStopped:t.func,onReadyToRecord:t.func,onRef:t.func},s={onPlaying:t.func,onPaused:t.func,onEnded:t.func,onSeek:t.func,onReadyToPlay:t.func,onRef:t.func},f={onAttached:t.func,onRecording:t.func,onLoaded:t.func,onError:t.func},p=(t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,t.func,{preventReRenderOnUpdate:t.bool,updateInstance:t.any}),b=(t.func,t.func,{webrtc_streaming:t.bool,webrtc_streaming_if_necessary:t.bool,webrtc_on_mobile:t.bool,auth:t.bool,debug:t.bool,testing_application:t.bool,chrome_extension_id:t.string,chrome_extension_install_link:t.string,opera_extension_id:t.string,opera_extension_install_link:t.string}),y={debug:t.bool,testing_application:t.bool,auth:t.bool},d=["apiKey","flashUrl","locale","mediaLocales"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},m.apply(null,arguments)}function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var h=function(t){return function(n){var o,i,a=n.apiKey,l=n.flashUrl,u=n.locale,c=n.mediaLocales,s=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(n,d),f=(o=(0,e.useState)(null),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(o,i)||function(e,r){if(e){if("string"==typeof e)return g(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,r):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],y=f[1];(0,e.useEffect)(function(){try{p||h()}catch(e){console.error(e)}return function(){}},[p]);var h=function(){void 0!==u&&ZiggeoApi.V2.Locale.setLocale(u),c&&(Array.isArray(c)?c.map(function(e){var r=e.register,t=e.languages,n=e.priority;if(r){if(!Array.isArray(t))return ZiggeoApi.V2.Locale.mediaLocale.register(r,n||10);var o=[];t.map(function(e,i){if(o.push("language:".concat(e)),i===t.length-1)return ZiggeoApi.V2.Locale.mediaLocale.register(r,o,n||10)})}}):console.warn("mediaLocales has to be an Array, please read documentation for more details.")),void 0!==l&&ZiggeoApi.V2.Config.set("flash",l),y(ZiggeoApi.V2.Application.instanceByToken(a,O()))},O=function(){return Object.keys(s).filter(function(e){return b[e]}).reduce(function(e,r){return e[r]=s[r],e},{})};return r().createElement(t,m({},s,{app:p}))}};h.prototype={apiKey:t.string.isRequired};const O=h;function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var w=["app"];function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach(function(r){P(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function P(e,r,t){return(r=function(e){var r=function(e){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=v(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},k.apply(null,arguments)}function _(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return T(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var A=function(t){var n=t.app,o=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(t,w),i=o.updateInstance,l=_((0,e.useState)(null),2),u=l[0],c=l[1],p=_((0,e.useState)(null),2),b=p[0],y=p[1],d=_((0,e.useState)(null),2),m=d[0],g=d[1],h=(0,e.useRef)(null);(0,e.useEffect)(function(){b&&u&&i&&y(null)},[i]),(0,e.useEffect)(function(){b||(y(O()),g(v())),h&&b&&c(new ZiggeoApi.V2.Player({element:h.current,attrs:b}))},[b]),(0,e.useEffect)(function(){return u&&(u.activate(),Object.entries(j).forEach(function(e){var r=_(e,2),t=r[0],n=r[1];u.on(t,n.bind(A,u.get()))}),o.onRef(u)),function(){u&&(o.onRef(null),u.destroy())}},[u]);var O=function(){return Object.keys(o).filter(function(e){return a[e]}).reduce(function(e,r){return e[r.replace(/^_/g,"")]=o[r],e},{})},v=function(){return Object.keys(o).filter(function(e){return!A.propTypes[e]}).reduce(function(e,r){return e[r]=o[r],e},{})},j=Object.keys(Object.assign(s,f)).reduce(function(e,r){return e[r.replace(/([A-Z])/g,"_$1").toLowerCase().slice(3).replace(/(recorder_|player_)/g,"")]=function(){o[r].apply(o,arguments)},e},{});return r().createElement("div",k({ref:h,app:n},m))};A.propTypes=S(S(S(S(S({},a),s),f),y),p),A.defaultProps=S({width:640,height:480,picksnapshots:!0,theme:"default",themecolor:"default",hidebarafter:5e3,skipseconds:5,videofitstrategy:"pad",posterfitstrategy:"crop",preventReRenderOnUpdate:!0},Object.keys(Object.assign(s,f)).reduce(function(e,r){return e[r]=function(){},e},{}));const x=O(A);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var R=["app"];function I(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function Z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?I(Object(t),!0).forEach(function(r){U(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function U(e,r,t){return(r=function(e){var r=function(e){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=E(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},C.apply(null,arguments)}function D(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return L(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var M=function(t){var n=t.app,o=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(t,R),i=o.updateInstance,a=D((0,e.useState)(null),2),l=a[0],c=a[1],p=D((0,e.useState)(null),2),b=p[0],y=p[1],d=D((0,e.useState)(null),2),m=d[0],g=d[1],h=(0,e.useRef)(null);(0,e.useEffect)(function(){b&&l&&i&&y(null)},[i]),(0,e.useEffect)(function(){b||(y(O()),g(v())),h&&b&&c(new ZiggeoApi.V2.AudioPlayer({element:h.current,attrs:b}))},[b]),(0,e.useEffect)(function(){return l&&(l.activate(),Object.entries(w).forEach(function(e){var r=D(e,2),t=r[0],n=r[1];l.on(t,n.bind(M,l.get()))}),o.onRef(l)),function(){l&&(o.onRef(null),l.destroy())}},[l]);var O=function(){return Object.keys(o).filter(function(e){return u[e]}).reduce(function(e,r){return e[r.replace(/^_/g,"")]=o[r],e},{})},v=function(){return Object.keys(o).filter(function(e){return!M.propTypes[e]}).reduce(function(e,r){return e[r]=o[r],e},{})},w=Object.keys(Object.assign(s,f)).reduce(function(e,r){return e[r.replace(/([A-Z])/g,"_$1").toLowerCase().slice(3).replace(/(recorder_|player_)/g,"")]=function(){o[r].apply(o,arguments)},e},{});return r().createElement("div",C({ref:h,app:n},m))};M.propTypes=Z(Z(Z(Z(Z({},u),s),f),y),p),M.defaultProps=Z({width:640,height:480,theme:"default",themecolor:"default",hidebarafter:5e3,skipseconds:5,preventReRenderOnUpdate:!0},Object.keys(Object.assign(s,f)).reduce(function(e,r){return e[r]=function(){},e},{}));const V=O(M);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}var z=["app"];function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function B(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach(function(r){H(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function H(e,r,t){return(r=function(e){var r=function(e){if("object"!=$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=$(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},K.apply(null,arguments)}function N(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return W(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?W(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var F=function(t){var n=t.app,o=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(t,z),a=o.updateInstance,l=N((0,e.useState)(null),2),u=l[0],s=l[1],p=N((0,e.useState)(null),2),b=p[0],d=p[1],m=N((0,e.useState)(null),2),g=m[0],h=m[1],O=(0,e.useRef)(null);(0,e.useEffect)(function(){b&&u&&a&&d(null)},[a]),(0,e.useEffect)(function(){b||(d(v()),h(w())),O&&b&&s(new ZiggeoApi.V2.Recorder({element:O.current,attrs:b}))},[b,O]),(0,e.useEffect)(function(){return u&&(u.activate(),Object.entries(j).forEach(function(e){var r=N(e,2),t=r[0],n=r[1];u.on(t,n.bind(F,u.get()))}),o.onRef(u)),function(){u&&(o.onRef(null),u.destroy())}},[u]);var v=function(){return Object.keys(o).filter(function(e){return Object.assign(i,y)[e]}).reduce(function(e,r){return e[r.replace(/^_/g,"")]=o[r],e},{})},w=function(){return Object.keys(o).filter(function(e){return!F.propTypes[e]}).reduce(function(e,r){return e[r]=o[r],e},{})},j=Object.keys(Object.assign(c,f)).reduce(function(e,r){return e[r.replace(/([A-Z])/g,"_$1").toLowerCase().slice(3).replace(/(recorder_|player_)/g,"")]=function(){o[r].apply(o,arguments)},e},{});return r().createElement("div",K({ref:O,app:n},g))};F.propTypes=B(B(B(B(B({},i),c),f),b),p),F.defaultProps=B({width:640,height:480,picksnapshots:!0,countdown:3,snapshotmax:15,gallerysnapshots:3,theme:"default",themecolor:"default",primaryrecord:!0,recordingwidth:640,recordingheight:480,framerate:25,videobitrate:"auto",audiobitrate:"auto","microphone-volume":1,allowupload:!0,allowrecord:!0,"force-overwrite":!0,allowcustomupload:!0,recordermode:!0,"cpu-friendly":!1,trimoverlay:!0,pauseonclick:!0,preventReRenderOnUpdate:!0,"display-timer":!0,rtmpstreamtype:"mp4",rtmpmicrophonecodec:"speex","transcript-language":"en-US",multistreamreversable:!0,multistreamdraggable:!0,addstreamproportional:!0,addstreampositionx:5,addstreampositiony:5,addstreampositionwidth:120,addstreampositionheight:95,addstreamminwidth:120,addstreamminheight:95,webrtc_streaming:!1,webrtc_streaming_if_necessary:!1,webrtc_on_mobile:!1,auth:!1,debug:!1,testing_application:!1,allowscreen:!1,chrome_extension_id:"meoefjkcilgjlkibnjjlfdgphacbeglk",chrome_extension_install_link:"https://chrome.google.com/webstore/detail/meoefjkcilgjlkibnjjlfdgphacbeglk",opera_extension_id:"dnnolmnenehhgplebjhbcmfdbaabkepm",opera_extension_install_link:"https://addons.opera.com/en/extensions/details/3d46d4c36fefe97e76622c54b2eb6ea1d5406767"},Object.keys(Object.assign(c,f)).reduce(function(e,r){return e[r]=function(){},e},{}));const G=O(F);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}var J=["app"];function Q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function X(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Q(Object(t),!0).forEach(function(r){ee(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ee(e,r,t){return(r=function(e){var r=function(e){if("object"!=Y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=Y(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},re.apply(null,arguments)}function te(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return ne(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ne(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var oe=function(t){var n=t.app,o=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(t,J),i=o.updateInstance,a=te((0,e.useState)(null),2),u=a[0],s=a[1],p=te((0,e.useState)(null),2),b=p[0],d=p[1],m=te((0,e.useState)(null),2),g=m[0],h=m[1],O=(0,e.useRef)(null);(0,e.useEffect)(function(){b&&u&&i&&d(null)},[i]),(0,e.useEffect)(function(){b||(d(v()),h(w())),O&&b&&s(new ZiggeoApi.V2.AudioRecorder({element:O.current,attrs:b}))},[b,O]),(0,e.useEffect)(function(){return u&&(u.activate(),Object.entries(j).forEach(function(e){var r=te(e,2),t=r[0],n=r[1];u.on(t,n.bind(oe,u.get()))}),o.onRef(u)),function(){u&&(o.onRef(null),u.destroy())}},[u]);var v=function(){return Object.keys(o).filter(function(e){return Object.assign(l,y)[e]}).reduce(function(e,r){return e[r.replace(/^_/g,"")]=o[r],e},{})},w=function(){return Object.keys(o).filter(function(e){return!oe.propTypes[e]}).reduce(function(e,r){return e[r]=o[r],e},{})},j=Object.keys(Object.assign(c,f)).reduce(function(e,r){return e[r.replace(/([A-Z])/g,"_$1").toLowerCase().slice(3).replace(/(recorder_|player_)/g,"")]=function(){o[r].apply(o,arguments)},e},{});return r().createElement("div",re({ref:O,app:n},g))};oe.propTypes=X(X(X(X(X({},l),c),f),b),p),oe.defaultProps=X({width:640,height:480,countdown:3,theme:"default",themecolor:"default",primaryrecord:!0,audiobitrate:"auto","microphone-volume":1,allowupload:!0,allowrecord:!0,"force-overwrite":!0,allowcustomupload:!0,recordermode:!0,preventReRenderOnUpdate:!0,"display-timer":!0,rtmpmicrophonecodec:"speex","transcript-language":"en-US",webrtc_streaming:!1,webrtc_streaming_if_necessary:!1,webrtc_on_mobile:!1,auth:!1,debug:!1,testing_application:!1},Object.keys(Object.assign(c,f)).reduce(function(e,r){return e[r]=function(){},e},{}));const ie=O(oe),ae={ZiggeoPlayer:x,ZiggeoAudioPlayer:V,ZiggeoRecorder:G,ZiggeoAudioRecorder:ie}})(),o})());
//# sourceMappingURL=index.es5.js.map